<!DOCTYPE html>

<html>
    <head>
        <title>Hall of Fame</title>
        <meta name=‘viewport’ content=“width=device-width, initial-scale=1”>
        <meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="tictac.css">
    <script>
        function getWinners() {
            /* Step 1: Make instance of request object...
            ...to make HTTP request after page is loaded*/
            request = new XMLHttpRequest();
            request.credentials = "include";
            console.log("1 - request object created");
 
            // Step 2: Set the URL for the AJAX request to be Heroku app
 
            request.open("GET", "https://desolate-brook-01524.herokuapp.com/", true);

            console.log("2 - opened request file");
 
            // Step 3: set up event handler/callback

            request.onreadystatechange = function() {
                console.log("3 - readystatechange event fired.");
 
                if (request.readyState == 4 && request.status == 200) {

                    console.log("5 - done");
                    result = request.responseText;
                    document.getElementById("data").innerHTML = result;


                    
                }
                else if (request.readyState == 4 && request.status != 200) {

                    document.getElementById("data").innerHTML = "Something is wrong!  Check the logs to see where this went off the rails";

                }

                else if (request.readyState == 3) {

                    document.getElementById("data").innerHTML = "Too soon!  Try again";

                }

            }
        // Step 4: fire off the HTTP request
            request.send();
            console.log("4 - Request sent");
        }

        
    </script>
    </head>
    <body onload="getWinners()">
        <header><a href="index.html">Back to Game</a></header>
        <h1>Hall of Fame</h1>
        <div id="data">
        </div>

    </body>
</html>
