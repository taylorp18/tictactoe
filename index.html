<!doctype html>
<html>
		<link rel="stylesheet" type="text/css" href="tictac.css">
<head>
<meta charset="UTF-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<title>Index.html</title>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script type="text/javascript" src="tictactoe.js"></script>

	<script type="text/javascript">

		$(document).ready(function(){
			var BLANK = '$'
			var X = 'X'
			var O = 'O'
			var board = [BLANK, BLANK, BLANK, BLANK, BLANK, BLANK, BLANK, BLANK, BLANK]
			var turn = 1;
			var game_on = true;

			$('.column').click(function(){
				if (game_on == true && turn < 10){
					if (turn%2 == 1 && $(this).find('img').attr('src') == 'media/blank.jpg'){
						$(this).find('img').attr('src', 'media/x.jpg');
						board[$(this).find('img').attr('id')-1] = X;
						turn++;
						game_on = gameOver(board);

						if (game_on == true && turn < 10){

							id = doTurn(board);
							board[id] = O;
							id++;
							id = '#' + id;
							$(id).attr('src', 'media/o.jpg')
							turn++;
							game_on = gameOver(board);
						}
					}
				}
			
				if (game_on != true){
					if (game_on == X){
						$('#win').css('display', 'block');
						addNewWinner();
					}
					else if(game_on == O){
						$('#lose').css('display', 'block');
					}
				}

				else if (game_on == true && turn > 9){
					$('#tie').css('display', 'block');			
				}
			})
		})

	</script>

</head>

<body>
	<h1>TIC TAC TOE</h1>
	<nav>
		<ul>
		 	<li><a href ="index.html">Play</a></li>
		  	<li><a href ="highscores.html">HighScores</a></li>
		</ul>
	</nav>
		<form id="avatarPick" align="center">
		Enter a username to play:<br>
		<input type="text" id="username"><button type="button" onclick="GenAvatars()">Enter</button>
		<!--Check database for username, if name is already in database ask if they want to use that name
			or choose a different name -->
		<!--Once username is submitted generate avatar from set 2,4,5 with the inputed username.
			Display the 3 options in 100x100. Have the user click on which avatar they want to use.-->
		<!--Generate bot avatar from set 1 with the inputed username-->
</form>
<script language="javascript">	
	function GenAvatars(){
			var name = document.getElementById("username").value;
			document.getElementById("User_place").innerHTML = name;
			document.getElementById("greet").innerHTML = "Hi, "+name+"! Click which avatar you would like to use."
			document.getElementById("option1").src = "https://robohash.org/"+name+".png/set_set2/?size=100x100"
			document.getElementById("option2").src = "https://robohash.org/"+name+".png/set_set4/?size=100x100"
			document.getElementById("option3").src = "https://robohash.org/"+name+".png/set_set5/?size=100x100"
			document.getElementById("user_avatar").src = "https://robohash.org/"+name+".png/set_set5/?size=100x100";
			document.getElementById("bot_avatar").src = "https://robohash.org/"+name+".png/set_set1/?size=100x100"
			$("#choices").fadeIn(250);
			$("#avatarPick").hide();
		}
	$(document).ready(function(){
		$("#choices").hide();
		$(".board").hide();
		$("#user_avatar").hide();
		$("#bot_avatar").hide();
		$("#option1").click(function(){
			var name = document.getElementById("username").value;
			document.getElementById("user_avatar").src = "https://robohash.org/"+name+".png/set_set2/?size=100x100";
			$("#choices").hide();
			$("#user_avatar").fadeIn(250);
			$("#bot_avatar").fadeIn(250);
			$(".board").fadeIn(250);
		});
		$("#option2").click(function(){
			var name = document.getElementById("username").value;
			document.getElementById("user_avatar").src = "https://robohash.org/"+name+".png/set_set4/?size=100x100";
			$("#choices").hide();
			$("#user_avatar").fadeIn(250);
			$("#bot_avatar").fadeIn(250);
			$(".board").fadeIn(250);
		});
		$("#option3").click(function(){
			var name = document.getElementById("username").value;
			document.getElementById("user_avatar").src = "https://robohash.org/"+name+".png/set_set5/?size=100x100";
			$("#choices").hide();
			$("#user_avatar").fadeIn(250);
			$("#bot_avatar").fadeIn(250);
			$(".board").fadeIn(250);
		});
	});
</script>
<div align="center" id="choices">
	<p1 id="greet"></p1>
	<img id="option1" src="https://robohash.org/user.png/set_set2/?size=100x100">
	<img id="option2" src="https://robohash.org/user.png/set_set4/?size=100x100">
	<img id="option3" src="https://robohash.org/user.png/set_set5/?size=100x100">
</div>
	<div class="board">
		<div class="avatartop">
			<img id="user_avatar" src="https://robohash.org/user.png/set_set5/?size=100x100">
				<h2 id ="User_place"></h2>
		</div>
		<div class="row">
			<div class="column">
				<img id="1" src="media/blank.jpg" alt="blank">
			</div>
			<div class="column">
				<img id="2" src="media/blank.jpg" alt="blank">
			</div>
			<div class="column">
				<img id="3" src="media/blank.jpg" alt="blank">
			</div>
		</div>
		<div class="row">
			<div class="column">
				<img id="4" src="media/blank.jpg" alt="blank">
			</div>
			<div class="column">
				<img id="5" src="media/blank.jpg" alt="blank">
			</div>
			<div class="column">
				<img id="6" src="media/blank.jpg" alt="blank">
			</div>
		</div>
		<div class="row">
			<div class="column">
				<img id="7" src="media/blank.jpg" alt="blank">
			</div>
			<div class="column">
				<img id="8" src="media/blank.jpg" alt="blank">
			</div>
			<div class="column">
				<img id="9" src="media/blank.jpg" alt="blank">
			</div>
		</div>
		<div class="avatarbottom">
			<img align="center" id="bot_avatar" src="https://robohash.org/bot.png/set_set1/?size=100x100">
			<h2>Computer Opponent</h2>
		</div>
		
		<div class="banner" id="win"> 
		<h1>you won :D</h1>
		<p>You have been added to the <a href="">hall of fame!</a></p>
		<button onclick="refresh()"> Play Again! </button>
	</div>

	<div class="banner" id="lose"> 
		<h1>you lost :(</h1>
		<button onclick="refresh()"> Play Again? </button>
	</div>

	<div class="banner" id="tie">
		<h1>you tied :/</h1>
		<button onclick="refresh()"> Play Again? </button>
	</div>
	</div>

	
</body>
</html>
